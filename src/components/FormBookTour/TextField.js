import { IconButton, TextField } from '@mui/material'
import { useField } from 'formik'

const TextFiledWrapper = ({ name, placeholder }) => {
  const [field, meta] = useField(name)

  const configTextfield = {
    ...field,
    placeholder: placeholder,
    fullWidth: true
    // variant: 'outlined'
  }

  if (meta && meta.touched && meta.error) {
    configTextfield.error = true
    configTextfield.helperText = meta.error
  }

  let inputProps = {}
  if (name === 'budget') {
    inputProps = {
      endAdornment: (
        <svg
          className='md:w-[1.375vw] md:h-[1.375vw] opacity-70 absolute right-[1vw]'
          xmlns='http://www.w3.org/2000/svg'
          width='22'
          height='22'
          viewBox='0 0 22 22'
          fill='none'
        >
          <g opacity='0.7' clip-path='url(#clip0_1564_18645)'>
            <path
              d='M11 0.6875C8.96038 0.6875 6.96657 1.29232 5.27069 2.42547C3.57481 3.55862 2.25303 5.16921 1.4725 7.05358C0.691968 8.93794 0.487746 11.0114 0.885656 13.0119C1.28357 15.0123 2.26574 16.8498 3.70797 18.292C5.1502 19.7343 6.98771 20.7164 8.98814 21.1143C10.9886 21.5123 13.0621 21.308 14.9464 20.5275C16.8308 19.747 18.4414 18.4252 19.5745 16.7293C20.7077 15.0334 21.3125 13.0396 21.3125 11C21.3125 9.64574 21.0458 8.30475 20.5275 7.05358C20.0093 5.80241 19.2496 4.66557 18.292 3.70796C17.3344 2.75036 16.1976 1.99074 14.9464 1.47249C13.6953 0.954241 12.3543 0.6875 11 0.6875ZM15.2034 14.933C14.5653 15.4904 13.8009 15.8838 12.9764 16.0791C12.1519 16.2744 11.2923 16.2657 10.4719 16.0539C9.65157 15.842 8.89524 15.4333 8.26848 14.8632C7.64171 14.293 7.1634 13.5787 6.875 12.782H5.87355C5.69121 12.782 5.51634 12.7096 5.38741 12.5806C5.25848 12.4517 5.18605 12.2768 5.18605 12.0945C5.18605 11.9122 5.25848 11.7373 5.38741 11.6084C5.51634 11.4794 5.69121 11.407 5.87355 11.407H6.57617C6.56609 11.275 6.55417 11.1375 6.55417 11C6.55417 10.8625 6.56426 10.725 6.5748 10.5912H5.87355C5.69121 10.5912 5.51634 10.5187 5.38741 10.3898C5.25848 10.2609 5.18605 10.086 5.18605 9.90367C5.18605 9.72133 5.25848 9.54646 5.38741 9.41753C5.51634 9.2886 5.69121 9.21617 5.87355 9.21617H6.875C7.24117 8.21132 7.90709 7.34316 8.78272 6.72911C9.65835 6.11505 10.7014 5.78472 11.7709 5.78279C12.9401 5.7786 14.076 6.17125 14.993 6.89654C15.0667 6.95135 15.1286 7.02035 15.1751 7.09948C15.2217 7.17861 15.2519 7.26626 15.2641 7.35726C15.2762 7.44826 15.27 7.54077 15.2458 7.62933C15.2216 7.71788 15.1799 7.8007 15.1231 7.87288C15.0664 7.94507 14.9958 8.00516 14.9155 8.04961C14.8352 8.09407 14.7467 8.12199 14.6555 8.13172C14.5642 8.14145 14.4719 8.1328 14.384 8.10628C14.2961 8.07975 14.2144 8.0359 14.1437 7.97729C13.4683 7.44351 12.6318 7.15461 11.7709 7.15779C11.0705 7.15856 10.3835 7.35071 9.7843 7.71348C9.18509 8.07625 8.69639 8.59586 8.371 9.21617H11.2315C11.4138 9.21617 11.5887 9.2886 11.7176 9.41753C11.8465 9.54646 11.919 9.72133 11.919 9.90367C11.919 10.086 11.8465 10.2609 11.7176 10.3898C11.5887 10.5187 11.4138 10.5912 11.2315 10.5912H7.953C7.93787 10.7269 7.92991 10.8634 7.92917 11C7.92939 11.1353 7.93658 11.2706 7.95071 11.4052H11.2315C11.4138 11.4052 11.5887 11.4776 11.7176 11.6065C11.8465 11.7355 11.919 11.9103 11.919 12.0927C11.919 12.275 11.8465 12.4499 11.7176 12.5788C11.5887 12.7077 11.4138 12.7802 11.2315 12.7802H8.37146C8.64003 13.2952 9.02194 13.7425 9.48844 14.0885C9.95493 14.4345 10.4939 14.6701 11.0646 14.7776C11.6354 14.8852 12.2231 14.8618 12.7835 14.7093C13.3439 14.5568 13.8625 14.2791 14.3 13.8971C14.4374 13.7772 14.6167 13.7168 14.7987 13.7291C14.9806 13.7414 15.1502 13.8255 15.2701 13.9629C15.39 14.1003 15.4504 14.2796 15.4381 14.4615C15.4258 14.6435 15.3417 14.813 15.2043 14.933H15.2034Z'
              fill='white'
            />
          </g>
          <defs>
            <clipPath id='clip0_1564_18645'>
              <rect width='22' height='22' fill='white' />
            </clipPath>
          </defs>
        </svg>
      )
    }
  }
  return (
    <TextField
      sx={{
        '& .MuiOutlinedInput-root': {
          '& > fieldset': {
            border: 'none'
          }
        }
      }}
      InputProps={{
        ...inputProps
      }}
      {...configTextfield}
    />
  )
}
export default TextFiledWrapper
